<style>
    video { display: block; margin-top: 15px; }
    #videoContainer {
        width: 480px;
    }
    .slider { width: 100%; margin: 10px 0; }
</style>

<div class="genCenterRow">
  <div class="genRow">
    <h2>视频转GIF</h2>
  </div>

  <!--post form-->
  <div class="genRow">
    <form enctype="multipart/form-data" method="post">
    <input type="button" class="fileUploader" id="uploadFile" name="uploadFile" value="选择视频文件"/>
    <input type="file" name="upload" id="upload" accept="video/mp4,video/quicktime,video/x-m4v,video/*" style="display:none;" />

    <div id="videoContainer">
        <!-- origin video -->
        <video id="preview" width="480px" controls></video>

        <p id="duration">
            视频时长: 0 秒
        </p>
        <div>
            <label>开始时间: <span id="startTime">0</span>s</label><br>
            <input type="range" id="startSlider" class="slider" min="0" value="0" disabled>
        </div>
        <div>
            <label>结束时间: <span id="endTime">0</span>s</label><br>
            <input type="range" id="endSlider" class="slider" min="0" value="0" disabled>
        </div>
    </div>

    <button type="button" id="submitBtn">确认选择片段</button>
    </form>
  </div>
</div>

<script>
    //set base property
    let videoElement = $("#preview")[0];
    let duration = 0;
    let start = 0;
    let end = 0;
    let maxSeconds = 10; //xx seconds

    //set para map
    var paraMap = {
        "videoElement":videoElement,
        "duration":duration,
        "start":start,
        "end":end,
        "maxSeconds":maxSeconds,
    };

    //ready
    $(function() {
      //disabled start and end slider
      $("#startSlider, #endSlider").prop("disabled", true);
      $("#submitBtn").prop("disabled", true);

      //upload file click opt
      $("#uploadFile").click(function() {
        //$("#uploadFile").val("视频文件");
        $("#upload").click();
        return
      });

      //show video2gif upload form
      showVideo2gifUploadForm(paraMap);
    });
</script>
